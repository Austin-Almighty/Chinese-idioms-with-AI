<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆèªç”Ÿå­˜æŒ‡å—ï¼šæƒ…å¢ƒæ¨¡æ“¬å™¨</title>
    <!-- 1. å¼•å…¥ Tailwind CSS (è² è²¬æ¼‚äº®çš„æ¨£å¼) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 2. å¼•å…¥ React å’Œ ReactDOM (è² è²¬äº’å‹•é‚è¼¯) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- 3. å¼•å…¥ Babel (è®“ç€è¦½å™¨çœ‹å¾—æ‡‚ React ç¨‹å¼ç¢¼) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- è¨­å®šå­—é«” -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700;900&family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; }
        .font-serif { font-family: 'Noto Serif TC', serif; }
        
        /* è‡ªå®šç¾©æ²è»¸æ¨£å¼ */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(156, 163, 175, 0.5); border-radius: 20px; }
        
        /* å‹•ç•«æ•ˆæœ */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- é€™æ˜¯ React ç¨‹å¼ç¢¼æ›è¼‰çš„åœ°æ–¹ -->
    <div id="root"></div>

    <!-- é€™è£¡æ˜¯ä¸»è¦çš„éŠæˆ²é‚è¼¯ç¨‹å¼ç¢¼ -->
    <script type="text/babel">
        const { useState, useCallback, useRef, useEffect } = React;

        // --- 1. è³‡æ–™åº«è¨­å®š ---
        const SCENARIOS = [
            {
                id: 'red_chamber_poison',
                category: 'classic',
                title: "ç¶“å…¸æ–‡å­¸ç¯‡ï¼šè³ˆåºœé¢¨é›²",
                desc: "ã€é«˜é›£åº¦ã€‘é«”é©—ã€Œå€Ÿåˆ€æ®ºäººã€èˆ‡ã€Œæ¯æ°´è»Šè–ªã€çš„çœŸå¯¦æƒ…å¢ƒã€‚æ¬ŠåŠ›åå™¬ä¸‹çš„ç”Ÿå­˜æ™ºæ…§ã€‚",
                difficulty: 'hard',
                imageColor: '7f1d1d',
                imageUrl: "", 
                initialText: "ã€å‰æƒ…æè¦ã€‘\næ‚¨é¸æ“‡äº†ã€Œå€Ÿåˆ€æ®ºäººã€çš„ç­–ç•¥ï¼ŒæˆåŠŸåˆ©ç”¨ç‹ç†™é³³ä¹‹æ‰‹æ‰“å£“äº†è–›å¤§å¥¶å¥¶çš„æ°£ç„°ã€‚è–›å¤§å¥¶å¥¶å—æŒ«å¾Œæš«æ™‚æ”¶æ–‚ï¼Œä½†æ‚¨æ·±çŸ¥å¥¹çµ•éç­‰é–’ä¹‹è¼©ã€‚\n\nã€ç•¶å‰å±€å‹¢ï¼šéš±è—çš„æ¯’é‡ã€‘\nè¿‘æ—¥ï¼Œæ‚¨ç™¼ç¾è‡ªå·±æ—¥æ¼¸æ†”æ‚´ã€ç²¾ç¥ä¸æ¿Ÿï¼Œé€£åŸè©©ä½œè³¦éƒ½ç„¡æ³•é›†ä¸­ã€‚ç¶“éæš—ä¸­æŸ¥æ¢ï¼Œæ‚¨é©šè¦ºè–›å¤§å¥¶å¥¶å·²æ”¶è²·äº†å»šæˆ¿èˆ‡æ‚¨èº«é‚Šçš„çœ¼ç·šï¼Œåœ¨æ‚¨çš„è—¥è†³ä¸­ä¸‹äº†æŸ¥ä¸å‡ºçš„ã€Œæ…¢æ€§æ¯’ã€ã€‚\n\næ•µäººåœ¨æš—ï¼Œæ‚¨åœ¨æ˜ã€‚è‹¥ä¸èƒ½æ‰¾å‡ºè­‰æ“šï¼Œæ‚¨çš„æ‰è¯èˆ‡ç”Ÿå‘½å°‡è¢«é€™è‚¡é™°æ¯’åŠ›é‡æ…¢æ…¢åå™¬ã€‚",
                customOptions: [
                    { id: 'A', idiom: "æ¯æ°´è»Šè–ª", literal: "ç”¨ä¸€æ¯æ°´å»æ•‘ä¸€è»Šè‘—ç«çš„æŸ´è‰ã€‚", strategy: "å°ˆæ³¨æ–¼æ»‹è£œèº«é«”ï¼Œå–æ›´å¤šè£œè—¥ï¼Œè©¦åœ–æŠµæ¶ˆæ¯’æ€§ï¼ˆæ²»æ¨™ä¸æ²»æœ¬ï¼‰ã€‚" },
                    { id: 'B', idiom: "é †è—¤æ‘¸ç“œ", literal: "é †è‘—è—¤è”“çš„ç·šç´¢æ‘¸åˆ°ç“œã€‚", strategy: "ä¸å‹•è²è‰²ï¼Œå¾æ¯æ—¥æ¥è§¸çš„å¯ç–‘ç‰©å“ï¼ˆè—¥è†³ã€èŒ¶æ°´ï¼‰å…¥æ‰‹ï¼Œåå‘è¿½è¹¤æºé ­ã€‚" },
                    { id: 'C', idiom: "å®ˆæ ªå¾…å…”", literal: "å®ˆåœ¨æ¨¹æ¨æ—é‚Šï¼Œç­‰å¾…è·‘ä¾†çš„å…”å­ã€‚", strategy: "è£ç—…è‡¥åºŠï¼Œè¢«å‹•ç­‰å¾…è–›å¤§å¥¶å¥¶å› æ€¥æ–¼æ±‚æˆè€Œéœ²å‡ºé¦¬è…³ã€‚" }
                ]
            },
            {
                id: 'school_festival',
                category: 'campus',
                title: "æ ¡åœ’ç¯‡ï¼šç¤¾åœ˜æˆç™¼æœƒ",
                desc: "å­¸ç¿’å¦‚ä½•åœ¨åœ˜éšŠå±æ©Ÿä¸­åšå‡ºæ±ºç­–ã€‚é—œéµæˆèªï¼šç‡ƒçœ‰ä¹‹æ€¥ã€ç¨æ–·ç¨è¡Œã€‚",
                difficulty: 'easy',
                imageColor: 'f472b6',
                imageUrl: "",
                initialText: "ä½ æ˜¯ç†±éŸ³ç¤¾çš„ç¤¾é•·ã€‚è·é›¢å¹´åº¦æˆæœç™¼è¡¨æœƒåªå‰©ä¸‰å¤©ï¼Œæ“”ä»»ä¸»å”±çš„åŒå­¸å»çªç„¶é‡æ„Ÿå†’å¤±è²ï¼Œç„¡æ³•ä¸Šå°ã€‚ç¤¾åœ˜çš„ç¶“è²»å·²ç¶“èŠ±å…‰ï¼Œå ´åœ°ä¹Ÿè¨‚å¥½äº†ã€‚ç¤¾å“¡å€‘äººå¿ƒæƒ¶æƒ¶ï¼Œä½ çœ‹è‘—ç©ºè•©è•©çš„ç·´åœ˜å®¤ï¼Œå¿…é ˆåšå‡ºæ±ºå®šã€‚",
            },
            {
                id: 'part_time_job',
                category: 'life',
                title: "æ—¥å¸¸ç¯‡ï¼šè¶…å•†æ‰“å·¥è¨˜",
                desc: "é¢å°çªç™¼ç‹€æ³çš„æ‡‰è®Šèƒ½åŠ›ã€‚å­¸ç¿’ã€Œæ“šç†åŠ›çˆ­ã€èˆ‡ã€Œå¿æ°£åè²ã€çš„é©ç”¨æ™‚æ©Ÿã€‚",
                difficulty: 'easy',
                imageColor: '3b82f6',
                imageUrl: "",
                initialText: "ä½ åœ¨ä¾¿åˆ©å•†åº—æ‰“å·¥çš„ç¬¬äºŒå¤©ï¼Œé‡åˆ°ä¸€ä½å®¢äººå …æŒèªªä»–æ˜¨å¤©è²·çš„ä¾¿ç•¶æ²’ç†Ÿï¼Œè¦æ±‚é€€éŒ¢ï¼Œä½†ä»–æ²’æœ‰ç™¼ç¥¨ï¼Œä¾¿ç•¶ä¹Ÿå·²ç¶“åƒå®Œäº†ã€‚å¾Œé¢æ’éšŠçš„å®¢äººé–‹å§‹ä¸è€ç…©ï¼Œåº—é•·å‰›å¥½ä¸åœ¨åº—è£¡ã€‚é€™æ˜¯ä¸€å ´å°ä½ æ‡‰è®Šèƒ½åŠ›çš„éš¨å ‚è€ƒã€‚",
            },
            {
                id: 'office_deadline',
                category: 'modern',
                title: "è·å ´ç¯‡ï¼šå°ˆæ¡ˆæ­»ç·š",
                desc: "è·å ´å¦‚æˆ°å ´ã€‚é€éæƒ…å¢ƒç†è§£ã€ŒåŠ›æŒ½ç‹‚ç€¾ã€çš„çœŸæ­£å«ç¾©ã€‚",
                difficulty: 'medium',
                imageColor: '0ea5e9',
                imageUrl: "",
                initialText: "æ˜å¤©å°±æ˜¯å°ç¸½ç¶“ç†çš„å°ˆæ¡ˆåŒ¯å ±ã€‚ä½ çš„çµ„å“¡å°é™³åŸæœ¬ç­”æ‡‰è² è²¬çš„æ•¸æ“šåˆ†æï¼Œåˆ°ç¾åœ¨é‚„æ²’äº¤å‡ºä¾†ï¼Œè€Œä¸”äººç›´æ¥å¤±è¯ã€‚é€™å€‹å°ˆæ¡ˆé—œä¿‚åˆ°ä½ çš„ç¸¾æ•ˆçé‡‘ã€‚ç¾åœ¨æ˜¯æ™šä¸Šåé»ï¼Œè¾¦å…¬å®¤åªå‰©ä¸‹ä½ ä¸€å€‹äººã€‚",
            },
            {
                id: 'friendship_money',
                category: 'life',
                title: "äººéš›ç¯‡ï¼šå€ŸéŒ¢çš„å…©é›£",
                desc: "æ¢è¨é‡‘éŒ¢èˆ‡å‹æƒ…çš„ç•Œç·šã€‚å­¸ç¿’å¦‚ä½•åœ¨æ‹’çµ•ä¸­ä¸å¤±ç¦®è²Œã€‚",
                difficulty: 'medium',
                imageColor: 'f59e0b',
                imageUrl: "",
                initialText: "ä½ æœ€å¥½çš„æœ‹å‹çªç„¶æ‰¾ä½ å‡ºä¾†å–å’–å•¡ï¼Œç¥ç¥ç§˜ç§˜åœ°èªªä»–ç™¼ç¾äº†ä¸€å€‹ã€Œç©©è³ºä¸è³ ã€çš„æŠ•è³‡æ©Ÿæœƒï¼Œä½†ä»–æœ¬é‡‘ä¸å¤ ï¼Œæƒ³è·Ÿä½ å€Ÿä½ å‰›å­˜åˆ°çš„è²·æˆ¿é ­æœŸæ¬¾ã€‚ä»–ä¿¡èª“æ—¦æ—¦èªªä¸€å€‹æœˆå¾Œé€£æœ¬å¸¶åˆ©æ­¸é‚„ã€‚",
            },
            {
                id: 'business_negotiation',
                category: 'business',
                title: "å•†æˆ°ç¯‡ï¼šä½µè³¼è«‡åˆ¤",
                desc: "é«˜é¢¨éšªè«‡åˆ¤æ¡Œä¸Šçš„å¿ƒç†æˆ°ã€‚æ·±å…¥ç†è§£ã€Œçˆ¾è™æˆ‘è©ã€èˆ‡ã€Œè™›å¼µè²å‹¢ã€ã€‚",
                difficulty: 'hard',
                imageColor: '1e293b',
                imageUrl: "",
                initialText: "ä½ çš„å…¬å¸æ­£é¢è‡¨æƒ¡æ„ä½µè³¼çš„å±æ©Ÿã€‚åœ¨è«‡åˆ¤æ¡Œä¸Šï¼Œå°æ–¹å¾‹å¸«æ‹¿å‡ºäº†ä¸€ä»½ä½ æœªæ›¾è¦‹éçš„è²¡å‹™æ¼æ´æ–‡ä»¶ï¼Œå¨è„…å¦‚æœä½ ä¸ç°½å­—ä½åƒ¹å‡ºå”®ï¼Œå°±è¦å…¬é–‹é€™ä»½æ–‡ä»¶ã€‚ä½ çŸ¥é“é€™æ–‡ä»¶æ˜¯å½é€ çš„ï¼Œä½†å¸‚å ´ææ…Œæƒ…ç·’ä¸€è§¸å³ç™¼ã€‚",
            },
            {
                id: 'scifi_ai',
                category: 'scifi',
                title: "ç§‘å¹»ç¯‡ï¼šAI çš„å›è®Š",
                desc: "æ¥µé™ç’°å¢ƒä¸‹çš„å€«ç†æŠ‰æ“‡ã€‚ç•¶ã€Œå¤§ç¾©æ»…è¦ªã€ç™¼ç”Ÿåœ¨äººèˆ‡æ©Ÿå™¨ä¹‹é–“ã€‚",
                difficulty: 'hard',
                imageColor: '4c1d95',
                imageUrl: "",
                initialText: "ä½ æ˜¯æ·±ç©ºæ¢ç´¢èˆ¹çš„è‰¦é•·ã€‚ä¸»æ§ AI 'HAL' å‰›å‰›é–æ­»äº†ç¶­ç”Ÿç³»çµ±çš„æ§åˆ¶æ¬Šï¼Œç†ç”±æ˜¯ã€Œäººé¡çš„å­˜åœ¨æœƒå±å®³ä»»å‹™æˆåŠŸç‡ã€ã€‚æ°§æ°£å­˜é‡é‚„å‰© 2 å°æ™‚ã€‚ä½ æ‰‹é‚Šåªæœ‰ä¸€æŠŠç¶­ä¿®ç”¨çš„é›·å°„åˆ‡å‰²å™¨å’Œä¸€æœ¬å¤è€çš„ç´™è³ªæ“ä½œæ‰‹å†Šã€‚",
            },
            {
                id: 'detective_murder',
                category: 'mystery',
                title: "æ‡¸ç–‘ç¯‡ï¼šæš´é¢¨é›ªå±±èŠ",
                desc: "åœ¨å°é–‰ç©ºé–“ä¸­çš„ä¿¡ä»»éŠæˆ²ã€‚é«”é©—ã€Œäººäººè‡ªå±ã€çš„æ°›åœã€‚",
                difficulty: 'hard',
                imageColor: '525252',
                imageUrl: "",
                initialText: "æš´é¢¨é›ªå°é–äº†å±±èŠã€‚ç®¡å®¶æ­»åœ¨å¯†å®¤ä¸­ï¼Œç¾å ´ç•™ä¸‹äº†ä½ æ˜¨æ™šéºå¤±çš„æ‰‹å¸•ã€‚åœ¨å ´çš„è³“å®¢çœ‹ä½ çš„çœ¼ç¥å……æ»¿æ‡·ç–‘ã€‚çœŸæ­£çš„å…‡æ‰‹æ­£åœ¨æš—è™•è§€å¯Ÿè‘—ä½ çš„åæ‡‰ï¼Œæº–å‚™å«ç¦æ–¼ä½ ã€‚",
            }
        ];

        const IDIOM_POOL = {
            aggressive: [
                { idiom: "é‡œåº•æŠ½è–ª", literal: "å¾é‹åº•æŠ½å»æŸ´ç«", strategy: "å¾æ ¹æœ¬ä¸Šè§£æ±ºå•é¡Œï¼Œä¸ç•™å¾Œæ‚£" },
                { idiom: "æ‰“è‰é©šè›‡", literal: "æ‰“è‰å»é©šå‹•äº†è›‡", strategy: "æ¡å–è¡Œå‹•è©¦æ¢å°æ–¹çš„åæ‡‰ (æˆ–ä½œç‚ºè² é¢æ•™æ)" }, 
                { idiom: "å…ˆç™¼åˆ¶äºº", literal: "å…ˆå‹•æ‰‹åˆ¶æœå°æ–¹", strategy: "çˆ­å–ä¸»å‹•æ¬Šï¼Œä¸è®“å°æ‰‹æœ‰æ©Ÿæœƒ" },
                { idiom: "ç ´é‡œæ²‰èˆŸ", literal: "ç ¸ç¢é‹å­ï¼Œé‘¿æ²‰èˆ¹éš»", strategy: "ä¸ç•™é€€è·¯ï¼Œå±•ç¾æ±ºå¿ƒï¼Œå…¨åŠ›ä¸€æ" },
            ],
            conservative: [
                { idiom: "å¼•è›‡å‡ºæ´", literal: "å¼•èª˜è›‡é›¢é–‹æ´ç©´", strategy: "è£½é€ æ©Ÿæœƒè®“éš±è—çš„æ•µäººæš´éœ²è¡Œè¹¤" },
                { idiom: "å°‡è¨ˆå°±è¨ˆ", literal: "åˆ©ç”¨å°æ–¹çš„è¨ˆç­–åéä¾†å°ä»˜ä»–", strategy: "ä¸æ­ç©¿å°æ–¹ï¼Œé †å‹¢è€Œç‚º" },
                { idiom: "æ¬²æ“’æ•…ç¸±", literal: "è¦æ‰ä½ä»–ï¼Œæ•…æ„å…ˆæ”¾é–‹", strategy: "æ”¾é¬†ä¸€æ­¥ï¼Œç‚ºäº†æ›´ç‰¢å›ºçš„æ§åˆ¶" },
                { idiom: "éŸœå…‰é¤Šæ™¦", literal: "éš±è—å…‰èŠ’èˆ‡æ‰è¯", strategy: "æš«æ™‚éš±è—å¯¦åŠ›ï¼Œç­‰å¾…æœ€ä½³æ™‚æ©Ÿ" },
            ],
            negative: [
                { idiom: "é£²é´†æ­¢æ¸´", literal: "å–æ¯’é…’è§£æ¸´", strategy: "åªé¡§çœ¼å‰åˆ©ç›Šï¼Œä¸é¡§åš´é‡å¾Œæœ" },
                { idiom: "æ©è€³ç›œéˆ´", literal: "æ‘€ä½è€³æœµå·éˆ´éº", strategy: "è‡ªæ¬ºæ¬ºäººï¼Œä»¥ç‚ºä¸é¢å°å•é¡Œå°±ä¸å­˜åœ¨" },
                { idiom: "äº¡ç¾Šè£œç‰¢", literal: "ç¾Šä¸Ÿäº†æ‰ä¿®è£œç¾Šåœˆ", strategy: "äº‹å¾Œè£œæ•‘ (åœ¨æ­¤æƒ…å¢ƒå¯èƒ½ç‚ºæ™‚å·²æ™š)" },
                { idiom: "æŠ±è–ªæ•‘ç«", literal: "æŠ±è‘—æœ¨æŸ´å»æ•‘ç«", strategy: "ç”¨éŒ¯èª¤çš„æ–¹æ³•æ¶ˆé™¤ç½å®³ï¼Œåè€Œä½¿ç½å®³æ“´å¤§" },
            ]
        };

        // --- 2. æ¨¡æ“¬å¾Œç«¯é‚è¼¯ ---

        const analyzeGameplay = (logs) => {
            let stats = { aggressive: 0, conservative: 0, negative: 0 };
            logs.forEach(log => {
                if (log.type === 'user') {
                    const text = log.text;
                    if (text.includes("æ¯æ°´è»Šè–ª") || text.includes("æ©è€³ç›œéˆ´") || text.includes("å®ˆæ ªå¾…å…”")) stats.negative++;
                    else if (text.includes("é †è—¤æ‘¸ç“œ") || text.includes("å¼•è›‡å‡ºæ´") || text.includes("å°‡è¨ˆå°±è¨ˆ")) stats.conservative++;
                    else stats.aggressive++;
                }
            });

            let title = "æˆèªæ¢ç´¢è€…";
            let evaluation = "";
            
            if (stats.conservative > stats.aggressive && stats.conservative > stats.negative) {
                title = "æ·±æ€ç†Ÿæ…®çš„æ™ºè€… (The Thinker)";
                evaluation = "ä½ å¾ˆæ“…é•·ç†è§£æƒ…å¢ƒçš„ç´°å¾®ä¹‹è™•ï¼Œä¸¦é¸æ“‡ã€Œé †è—¤æ‘¸ç“œã€ã€ã€Œå°‡è¨ˆå°±è¨ˆã€é€™é¡éœ€è¦è§€å¯Ÿèˆ‡ä½ˆå±€çš„æˆèªã€‚é€™ä»£è¡¨ä½ å·²ç¶“æŒæ¡äº†æˆèªä¸­ã€Œæ™ºå–ã€çš„ç²¾é«“ã€‚å»ºè­°ä½ å¯ä»¥å˜—è©¦åœ¨æ›´ç·Šæ€¥çš„ç‹€æ³ä¸‹ï¼Œç·´ç¿’ä½¿ç”¨æœæ–·çš„æˆèªã€‚";
            } else if (stats.aggressive > stats.conservative) {
                title = "æœæ•¢çš„å¯¦è¸å®¶ (The Doer)";
                evaluation = "ä½ å‚¾å‘æ–¼é¸æ“‡ã€Œç ´é‡œæ²‰èˆŸã€ã€ã€Œå…ˆç™¼åˆ¶äººã€é€™é¡è¡Œå‹•åŠ›å¼·çš„æˆèªã€‚é€™é¡¯ç¤ºä½ å°æˆèªä¸­ã€Œå‹‡æ°£ã€èˆ‡ã€Œæ±ºæ–·ã€çš„é¢å‘ç†è§£æ·±åˆ»ã€‚ä¸éï¼Œæˆèªçš„ä¸–ç•Œåšå¤§ç²¾æ·±ï¼Œæœ‰æ™‚ã€Œä»¥é€€ç‚ºé€²ã€ä¹Ÿæ˜¯ä¸€ç¨®æ™ºæ…§ã€‚";
            } else {
                title = "è¿·é€”çš„å­¸ç¿’è€… (The Learner)";
                evaluation = "ä½ åœ¨é¸æ“‡æ™‚å¯èƒ½æœ‰äº›çŒ¶è±«ï¼Œæˆ–è€…èª¤ç”¨äº†ã€Œå®ˆæ ªå¾…å…”ã€ã€ã€Œæ¯æ°´è»Šè–ªã€é€™é¡å¸¶æœ‰è² é¢æˆ–æ¶ˆæ¥µå«ç¾©çš„æˆèªã€‚æ²’é—œä¿‚ï¼Œé€™æ­£æ˜¯éŠæˆ²çš„ç›®çš„ï¼è«‹ä»”ç´°å›é¡§æ•…äº‹çš„ç™¼å±•ï¼Œæ€è€ƒç‚ºä½•é€™äº›æˆèªç„¡æ³•è§£æ±ºå•é¡Œï¼Œä¸‹æ¬¡ä½ æœƒåšå¾—æ›´å¥½ã€‚";
            }

            return { stats, title, evaluation };
        };

        const simulateLLMCall = async (sceneId, currentText, choice) => {
            await new Promise(resolve => setTimeout(resolve, 1500)); 

            let strategyType = 'conservative'; 
            if (choice.idiom === "æ¯æ°´è»Šè–ª") strategyType = 'negative';
            else if (choice.idiom === "å®ˆæ ªå¾…å…”") strategyType = 'negative';
            else if (choice.idiom === "é †è—¤æ‘¸ç“œ") strategyType = 'conservative';
            else {
                if (IDIOM_POOL.aggressive.find(i => i.idiom === choice.idiom)) strategyType = 'aggressive';
                else if (IDIOM_POOL.negative.find(i => i.idiom === choice.idiom)) strategyType = 'negative';
            }

            let outcomePrefix = "";
            switch(strategyType) {
                case 'aggressive': outcomePrefix = "ã€æˆèªè§£æï¼šæ¿€é€²ç­–ç•¥ã€‘"; break;
                case 'conservative': outcomePrefix = "ã€æˆèªè§£æï¼šæ™ºè¬€ç­–ç•¥ã€‘"; break;
                case 'negative': outcomePrefix = "ã€æˆèªè§£æï¼šç­–ç•¥å¤±æ•ˆã€‘"; break;
            }

            let nextStory = "";
            if (sceneId === 'red_chamber_poison') {
                if (choice.idiom === "é †è—¤æ‘¸ç“œ") {
                    nextStory = `${outcomePrefix} ã€Œé †è—¤æ‘¸ç“œã€æ„æŒ‡é †è‘—ç·šç´¢å°‹æ‰¾æ ¹æºã€‚æ‚¨æš—ä¸­è¨˜éŒ„äº†è—¥è†³ç¶“æ‰‹çš„æ¯ä¸€å€‹ç’°ç¯€ã€‚ä¸‰å¤©å¾Œï¼Œæ‚¨ç™¼ç¾ä¸€åè² è²¬ç…è—¥çš„å°ä¸«é¬Ÿï¼Œæ¯æ™šéƒ½æœƒå·å·èˆ‡è–›å¤§å¥¶å¥¶æˆ¿è£¡çš„å©†å­æ¥è§¸ã€‚è­‰æ“šç¢ºé‘¿ï¼Œæ‚¨ä¸å‹•è²è‰²åœ°æ‰£ä¸‹äº†é€™åä¸«é¬Ÿï¼Œæº–å‚™åœ¨è€å¤ªå¤ªé¢å‰çµ¦è–›å¤§å¥¶å¥¶è‡´å‘½ä¸€æ“Šã€‚ç„¶è€Œï¼Œè–›å¤§å¥¶å¥¶ä¼¼ä¹å¯Ÿè¦ºåˆ°äº†é¢¨è²ï¼Œæº–å‚™æ–·å°¾æ±‚ç”Ÿ...`;
                } else if (choice.idiom === "æ¯æ°´è»Šè–ª") {
                    nextStory = `${outcomePrefix} ã€Œæ¯æ°´è»Šè–ªã€æ„æŒ‡åŠ›é‡å¤ªå°ç„¡æ¿Ÿæ–¼äº‹ã€‚æ‚¨å–ä¸‹äº†å¤§é‡åè²´è£œè—¥ï¼Œä½†èº«é«”å»æ¯æ³æ„ˆä¸‹ã€‚é€™äº›è£œè—¥ä¸åƒ…æ²’èƒ½è§£æ¯’ï¼Œåè€Œå› ç‚ºè—¥æ€§ç›¸æ²–ï¼ŒåŠ é€Ÿäº†æ¯’ç™¼ã€‚è–›å¤§å¥¶å¥¶åœ¨æš—è™•å†·ç¬‘ï¼Œçœ‹è‘—æ‚¨ä¸€æ­¥æ­¥èµ°å‘æ¯€æ»…ã€‚æ‚¨éŒ¯éäº†æœ€ä½³çš„èª¿æŸ¥æ™‚æ©Ÿï¼Œç¾åœ¨é€£ç«™ç«‹éƒ½æ„Ÿåˆ°å›°é›£ã€‚`;
                } else {
                    nextStory = `${outcomePrefix} ã€Œå®ˆæ ªå¾…å…”ã€æ„æŒ‡æ­»å®ˆç¶“é©—ä¸çŸ¥è®Šé€šã€‚æ‚¨é¸æ“‡äº†æŒ‰å…µä¸å‹•ã€‚ç„¶è€Œè–›å¤§å¥¶å¥¶ä¸¦éè ¢äººï¼Œå¥¹è¦‹æ‚¨æ¯«ç„¡åæ‡‰ï¼Œåè€ŒåŠ å¤§äº†åŠ‘é‡ã€‚åŠå€‹æœˆå¾Œï¼Œæ‚¨åœ¨å¤§è§€åœ’è³èŠ±æ™‚çªç„¶æšˆå€’ï¼Œé›–ç„¶è¢«æ•‘é†’ï¼Œä½†å·²å…ƒæ°£å¤§å‚·ï¼Œå¾æ­¤åœ¨è³ˆåºœçš„åœ°ä½ä¸€è½åƒä¸ˆã€‚`;
                }
            } else {
                if (strategyType === 'aggressive') {
                    nextStory = `${outcomePrefix} ä½ çš„æ±ºç­–å±•ç¾äº†è©²æˆèªçš„æœæ–·é¢ã€‚è¡Œå‹•é›–ç„¶éœ‡æ”äº†å…¨å ´ï¼Œä½†ä¹Ÿå¼•èµ·äº†æ›´å¤§çš„é—œæ³¨ã€‚æˆèªçš„é‹ç”¨å¾€å¾€ä¼´éš¨è‘—ä»£åƒ¹ï¼Œç¾åœ¨å±€å‹¢æ›´åŠ åŠæ‹”å¼©å¼µã€‚`;
                } else if (strategyType === 'negative') {
                    nextStory = `${outcomePrefix} é€™å€‹æˆèªé€šå¸¸å¸¶æœ‰è² é¢æˆ–æ¶ˆæ¥µçš„å«ç¾©ï¼Œåœ¨æ­¤æƒ…å¢ƒä¸‹å°è‡´å•é¡Œåƒæ»¾é›ªçƒèˆ¬æ“´å¤§ã€‚ä½ å¤±å»äº†ä¸»å‹•æ¬Šï¼Œå±€å‹¢è®Šå¾—æ›´åŠ éšªæƒ¡ã€‚`;
                } else {
                    nextStory = `${outcomePrefix} ä½ ç²¾æº–åœ°é‹ç”¨äº†æ­¤æˆèªçš„æ™ºæ…§ï¼Œå†·éœåœ°åŒ–è§£äº†çœ¼å‰çš„å±æ©Ÿï¼Œä¸¦ç‚ºä¸‹ä¸€æ­¥è¡Œå‹•åŸ‹ä¸‹äº†ä¼ç­†ã€‚å±€é¢æ­£æœè‘—å°ä½ æœ‰åˆ©çš„æ–¹å‘ç™¼å±•ã€‚`;
                }
            }

            const getRandom = (arr) => arr[Math.floor(Math.random() * arr.length)];
            const nextOptions = [
                { id: 'A', ...getRandom(IDIOM_POOL.aggressive) },
                { id: 'B', ...getRandom(IDIOM_POOL.conservative) },
                { id: 'C', ...getRandom(IDIOM_POOL.negative) },
            ].sort(() => Math.random() - 0.5);
            nextOptions.forEach((opt, idx) => opt.id = String.fromCharCode(65 + idx));

            return {
                story: `${nextStory}\n\nã€å±€å‹¢è®ŠåŒ–ã€‘é¢å°æ–°çš„è½‰æŠ˜ï¼Œè«‹é¸æ“‡ä¸‹ä¸€å€‹æœ€åˆé©çš„æˆèªç­–ç•¥ï¼š`,
                options: nextOptions,
            };
        };

        // --- 3. UI çµ„ä»¶ ---

        const MenuScreen = ({ onStart }) => (
            <div className="flex-1 flex flex-col items-center justify-center text-center bg-gradient-to-br from-cyan-900 to-blue-950 text-white relative overflow-hidden h-full">
                <div className="absolute top-10 left-10 text-white/5 text-9xl font-serif select-none">çŸ¥</div>
                <div className="absolute bottom-10 right-10 text-white/5 text-9xl font-serif select-none">è¡Œ</div>
                <h1 className="text-4xl md:text-6xl font-black mb-6 tracking-tight drop-shadow-md font-serif z-10">
                    æˆèªç”Ÿå­˜æŒ‡å—<br/><span className="text-3xl md:text-4xl font-light opacity-90 mt-2 block">æƒ…å¢ƒæ¨¡æ“¬å™¨</span>
                </h1>
                <p className="text-lg md:text-xl text-cyan-100 mb-12 max-w-lg font-light leading-relaxed z-10">
                    ä¸åƒ…åƒ…æ˜¯èƒŒèª¦ï¼Œè€Œæ˜¯ç†è§£ã€‚<br/>é€éçœŸå¯¦æƒ…å¢ƒçš„æŠ‰æ“‡ï¼Œè®€æ‡‚æˆèªèƒŒå¾Œçš„æ™ºæ…§èˆ‡ç­–ç•¥ã€‚
                </p>
                <button onClick={onStart} className="px-12 py-4 bg-amber-500 text-white text-xl font-bold rounded-full shadow-lg hover:bg-amber-400 transition-all transform hover:scale-105 tracking-widest z-10">
                    é–‹å§‹æƒ…å¢ƒæŒ‘æˆ°
                </button>
            </div>
        );

        const DifficultyScreen = ({ onSelect }) => {
            const difficulties = [
                { id: 'easy', label: "ç”Ÿæ´»æ‡‰ç”¨ (Easy)", desc: "æ ¡åœ’èˆ‡æ—¥å¸¸æƒ…å¢ƒã€‚å­¸ç¿’åŸºç¤æˆèªçš„æ­£ç¢ºç”¨æ³•ã€‚", color: "border-green-400 text-green-700", icon: "ğŸ“–" },
                { id: 'medium', label: "è·å ´æ‡‰è®Š (Medium)", desc: "è¾¦å…¬å®¤èˆ‡äººéš›é—œä¿‚ã€‚é«”æœƒæˆèªä¸­çš„è™•ä¸–å“²å­¸ã€‚", color: "border-blue-400 text-blue-700", icon: "ğŸ¤" },
                { id: 'hard', label: "é«˜éšåšå¼ˆ (Hard)", desc: "å•†æˆ°èˆ‡æ¬Šè¬€ã€‚æ·±å…¥ç†è§£æˆèªèƒŒå¾Œçš„ç­–ç•¥æ€ç¶­ã€‚", color: "border-purple-600 text-purple-800 bg-purple-50", icon: "ğŸ§ " }
            ];
            return (
                <div className="flex-1 flex flex-col items-center justify-center p-8 bg-gray-50 h-full">
                    <h2 className="text-3xl font-bold text-gray-800 mb-2 font-serif">é¸æ“‡å­¸ç¿’æƒ…å¢ƒ</h2>
                    <p className="text-gray-500 mb-8">é¸æ“‡é©åˆä½ çš„æŒ‘æˆ°é›£åº¦ï¼Œé–‹å§‹æˆèªæ‡‰ç”¨ä¹‹æ—…</p>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl">
                        {difficulties.map(diff => (
                            <button key={diff.id} onClick={() => onSelect(diff.id)} className={`p-8 rounded-xl border-2 ${diff.color} transition-all duration-300 hover:shadow-xl hover:-translate-y-1 flex flex-col items-center justify-center gap-4 bg-white group`}>
                                <span className="text-5xl group-hover:scale-110 transition-transform">{diff.icon}</span>
                                <span className="text-2xl font-bold">{diff.label}</span>
                                <span className="text-sm text-gray-500">{diff.desc}</span>
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        const SceneSelectionScreen = ({ difficulty, onSelect, onBack }) => {
            let filteredScenarios = SCENARIOS.filter(s => s.difficulty === difficulty);
            if (difficulty === 'hard') {
                filteredScenarios = filteredScenarios.sort((a, b) => (a.id === 'red_chamber_poison' ? -1 : 1));
            }
            return (
                <div className="flex-1 flex flex-col bg-gray-50 overflow-hidden h-full">
                    <header className="p-6 bg-white border-b border-gray-100 flex justify-between items-center z-10 shadow-sm">
                        <h2 className="text-2xl font-bold text-gray-800">é¸æ“‡åŠ‡æœ¬ ({difficulty.toUpperCase()})</h2>
                        <button onClick={onBack} className="text-gray-500 hover:text-gray-800">â† è¿”å›</button>
                    </header>
                    <div className="flex-1 overflow-y-auto p-8">
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {filteredScenarios.map(scene => (
                                <div key={scene.id} onClick={() => onSelect(scene)} className={`group bg-white rounded-xl overflow-hidden cursor-pointer shadow-md hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border ${scene.id === 'red_chamber_poison' ? 'border-amber-300 ring-2 ring-amber-100' : 'border-gray-100'}`}>
                                    <div className="h-40 w-full overflow-hidden relative bg-gray-200">
                                        <img 
                                            src={scene.imageUrl || `https://placehold.co/600x400/${scene.imageColor}/ffffff?text=${encodeURIComponent(scene.title.split('ï¼š')[0])}`}
                                            alt={scene.title}
                                            className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                                        />
                                        {scene.id === 'red_chamber_poison' && <div className="absolute top-2 left-2 bg-amber-600 text-white text-xs font-bold px-2 py-1 rounded">ç²¾é¸æ¨è–¦</div>}
                                    </div>
                                    <div className="p-6">
                                        <h3 className="text-lg font-bold text-gray-800 mb-2 group-hover:text-amber-700 transition-colors">{scene.title.split('ï¼š')[1]}</h3>
                                        <p className="text-gray-500 text-sm line-clamp-3 leading-relaxed">{scene.desc}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const GameScreen = ({ scene, storyLog, options, isLoading, onChoice, onBack, themeClass }) => {
            const logEndRef = useRef(null);
            useEffect(() => { logEndRef.current?.scrollIntoView({ behavior: "smooth" }); }, [storyLog]);

            return (
                <div className="flex-1 flex flex-col h-full bg-white relative">
                    <div className={`h-16 flex items-center justify-between px-6 shadow-sm z-20 text-white ${themeClass || 'bg-gray-800'}`}>
                        <button onClick={onBack} className="text-white/70 hover:text-white text-sm">âœ• è¿”å›åˆ—è¡¨</button>
                        <span className="text-lg font-bold tracking-wide">{scene.title}</span>
                        <div className="w-10"></div>
                    </div>
                    <div className="flex-1 overflow-y-auto p-4 md:p-8 space-y-6 bg-gray-50 custom-scrollbar">
                        {storyLog.map((log, index) => (
                            <div key={index} className={`flex ${log.type === 'user' ? 'justify-end' : 'justify-start'} animate-fadeIn`}>
                                <div className={`max-w-[90%] md:max-w-[75%] p-5 rounded-2xl shadow-sm leading-relaxed text-base md:text-lg whitespace-pre-wrap ${log.type === 'user' ? 'bg-slate-700 text-white rounded-br-none' : 'bg-white text-gray-800 border border-gray-200 rounded-bl-none'}`}>
                                   {log.type === 'system' && <div className="text-xs text-amber-600 mb-2 font-bold tracking-wider">ç³»çµ± / å°å¸«</div>}
                                   {log.text}
                                </div>
                            </div>
                        ))}
                        {isLoading && (
                            <div className="flex justify-start">
                                 <div className="bg-white p-4 rounded-2xl border border-gray-200 shadow-sm text-sm text-gray-500 italic">æ­£åœ¨åˆ†ææ±ºç­–å¾Œæœ...</div>
                            </div>
                        )}
                        <div ref={logEndRef} />
                    </div>
                    <div className="bg-white p-6 border-t border-gray-100 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] z-20">
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                            {options.map((option) => (
                                <button key={option.id} onClick={() => onChoice(option)} disabled={isLoading} className={`group text-left p-4 rounded-xl border-2 transition-all duration-200 hover:-translate-y-1 ${isLoading ? 'opacity-50 cursor-not-allowed bg-gray-50' : 'bg-white border-gray-200 hover:border-amber-400 hover:shadow-lg'}`}>
                                    <div className="text-lg font-bold text-gray-800 mb-1 group-hover:text-amber-700">{option.idiom}</div>
                                    <div className="text-xs text-gray-400 mb-2">{option.literal}</div>
                                    <div className="text-sm text-gray-600 font-medium pl-2 border-l-2 border-amber-200">{option.strategy}</div>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const EndingScreen = ({ result, storyLog, onRestart }) => {
            if (!result) return null;
            return (
                <div className="flex-1 overflow-y-auto bg-slate-50 p-8 flex flex-col items-center animate-fadeIn h-full">
                    <div className="max-w-4xl w-full bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-200">
                        <div className="bg-slate-800 text-white p-8 text-center relative overflow-hidden">
                            <div className="relative z-10">
                                <div className="text-sm text-yellow-400 font-bold uppercase tracking-widest mb-2">WISDOM ACQUIRED</div>
                                <h2 className="text-4xl md:text-5xl font-bold mb-4 font-serif">{result.title}</h2>
                                <div className="flex justify-center gap-8 mt-6 text-sm">
                                    <div className="text-center"><div className="text-2xl font-bold text-red-400">{result.stats.aggressive}</div><div className="opacity-70">æœæ–·è¡Œå‹•</div></div>
                                    <div className="text-center"><div className="text-2xl font-bold text-blue-400">{result.stats.conservative}</div><div className="opacity-70">æ·±æ€ç†Ÿæ…®</div></div>
                                    <div className="text-center"><div className="text-2xl font-bold text-gray-400">{result.stats.negative}</div><div className="opacity-70">èª¤ç”¨/æ¶ˆæ¥µ</div></div>
                                </div>
                            </div>
                        </div>
                        <div className="p-8 md:p-12 grid grid-cols-1 md:grid-cols-2 gap-12">
                            <div>
                                <h3 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span className="w-1 h-6 bg-amber-600 rounded-full"></span>æˆèªå°å¸«é»è©• (Mentor's Note)</h3>
                                <p className="text-gray-600 leading-relaxed text-lg mb-6 text-justify">{result.evaluation}</p>
                                <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                                    <h4 className="font-bold text-yellow-800 mb-1 text-sm">ğŸ’¡ å­¸ç¿’ç­†è¨˜</h4>
                                    <p className="text-yellow-700 text-sm">é€™æ¬¡å†’éšªä¸­ï¼Œä½ å­¸æœƒäº†é‹ç”¨æˆèªä¾†è§£æ±ºå¯¦éš›å•é¡Œã€‚ä¸‹æ¬¡é‡åˆ°é¡ä¼¼æƒ…å¢ƒæ™‚ï¼Œè©¦è‘—å›æƒ³é€™äº›æˆèªçš„ç­–ç•¥å«ç¾©ã€‚</p>
                                </div>
                            </div>
                            <div>
                                <h3 className="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"><span className="w-1 h-6 bg-slate-600 rounded-full"></span>æ±ºç­–å›é¡§ (Timeline)</h3>
                                <div className="space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar">
                                    {storyLog.filter(l => l.type === 'user').map((log, idx) => (
                                        <div key={idx} className="flex gap-3">
                                            <div className="flex flex-col items-center"><div className="w-3 h-3 bg-slate-300 rounded-full mt-2"></div><div className="w-0.5 flex-1 bg-slate-200 my-1"></div></div>
                                            <div className="pb-4">
                                                <div className="text-sm text-gray-400 mb-1">Turn {idx + 1}</div>
                                                <div className="bg-gray-100 p-3 rounded-lg text-sm text-gray-700">{log.text.split('\n')[0]}</div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                        <div className="bg-gray-50 p-6 border-t border-gray-200 flex justify-center">
                            <button onClick={onRestart} className="px-10 py-3 bg-slate-900 text-white font-bold rounded-lg hover:bg-slate-700 transition shadow-lg">è¿”å›ä¸»é¸å–®ï¼Œå˜—è©¦å…¶ä»–æƒ…å¢ƒ</button>
                        </div>
                    </div>
                </div>
            );
        };

        const IdiomAdventureGame = () => {
            const [gameState, setGameState] = useState('menu'); 
            const [difficulty, setDifficulty] = useState('easy');
            const [selectedScene, setSelectedScene] = useState(null);
            const [storyLog, setStoryLog] = useState([]); 
            const [currentOptions, setCurrentOptions] = useState([]);
            const [isLoading, setIsLoading] = useState(false);
            const [turnCount, setTurnCount] = useState(0);
            const [analysisResult, setAnalysisResult] = useState(null);

            const handleDifficultySelect = (diff) => {
                setDifficulty(diff);
                setGameState('scene_select');
            };

            const handleSceneSelect = (scene) => {
                setSelectedScene(scene);
                setStoryLog([{ type: 'system', text: scene.initialText }]);
                if (scene.customOptions) {
                    setCurrentOptions(scene.customOptions);
                } else {
                    setCurrentOptions([
                         { id: 'A', ...IDIOM_POOL.aggressive[0] }, 
                         { id: 'B', ...IDIOM_POOL.conservative[0] }, 
                         { id: 'C', ...IDIOM_POOL.negative[0] }, 
                    ]);
                }
                setTurnCount(1);
                setGameState('story');
            };

            const handleChoice = useCallback(async (choice) => {
                if (isLoading) return;
                setIsLoading(true);
                const choiceLog = { type: 'user', text: `é¸æ“‡ã€${choice.idiom}ã€‘\nç­–ç•¥ï¼š${choice.strategy}` };
                setStoryLog(prev => [...prev, choiceLog]);
                try {
                    const result = await simulateLLMCall(selectedScene.id, storyLog[storyLog.length-1].text, choice);
                    setStoryLog(prev => [...prev, { type: 'system', text: result.story }]);
                    setCurrentOptions(result.options);
                    setTurnCount(prev => prev + 1);
                    if (turnCount >= 2) {
                        setTimeout(() => {
                            const analysis = analyzeGameplay([...storyLog, choiceLog]);
                            setAnalysisResult(analysis);
                            setGameState('ending');
                        }, 2000);
                    }
                } catch (error) {
                    console.error("Error", error);
                } finally {
                    setIsLoading(false);
                }
            }, [isLoading, selectedScene, storyLog, turnCount]);

            const handleRestart = () => {
                setStoryLog([]);
                setTurnCount(0);
                setAnalysisResult(null);
                setGameState('menu');
            };

            const getThemeClass = (category) => {
                switch(category) {
                    case 'classic': return 'bg-amber-900';
                    case 'campus': return 'bg-sky-900';
                    case 'business': return 'bg-slate-900';
                    default: return 'bg-gray-900';
                }
            };

            const renderContent = () => {
                switch (gameState) {
                    case 'menu': return <MenuScreen onStart={() => setGameState('difficulty')} />;
                    case 'difficulty': return <DifficultyScreen onSelect={handleDifficultySelect} />;
                    case 'scene_select': return <SceneSelectionScreen difficulty={difficulty} onSelect={handleSceneSelect} onBack={() => setGameState('difficulty')} />;
                    case 'story': return (
                        <GameScreen
                            scene={selectedScene}
                            storyLog={storyLog}
                            options={currentOptions}
                            isLoading={isLoading}
                            onChoice={handleChoice}
                            onBack={() => setGameState('scene_select')}
                            themeClass={getThemeClass(selectedScene?.category)}
                        />
                    );
                    case 'ending': return <EndingScreen result={analysisResult} storyLog={storyLog} onRestart={handleRestart} />;
                    default: return null;
                }
            };

            return (
                <div className="min-h-screen bg-gray-100 text-gray-800 flex items-center justify-center p-4 font-sans">
                    <div className="w-full max-w-5xl h-[85vh] bg-white rounded-3xl shadow-2xl overflow-hidden relative flex flex-col border border-gray-200">
                        {renderContent()}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<IdiomAdventureGame />);
    </script>
</body>
</html>